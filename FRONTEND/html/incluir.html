<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <link rel="stylesheet" href="/FRONTEND/css/styles.css" />
    <title>Cadastro de Aeronaves e Voos</title>
    <script>
      function fetchInserir(body) {
        const requestOptions = {
          method: "PUT",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body),
        };

        return fetch(
          "http://localhost:3000/inserirAeronave",
          requestOptions
        ).then((T) => T.json());
      }

      function inserirAeronave() {
        const fabricante = document.getElementById("fabricante").value;
        const modelo = document.getElementById("modelo").value;
        const anoFab = document.getElementById("anoFabricacao").value;
        const registro = "Registro padrao";
        const totalAssentos = 555;

        fetchInserir({
          marca: fabricante,
          modelo: modelo,
          qtdeAssentos: totalAssentos,
          registro: registro,
        })
          .then((resultado) => {
            if (resultado.status === "SUCCESS") {
              showStatusMessage("Aeronave cadastrada... ", false);
            } else {
              showStatusMessage(
                "Erro ao cadastrar aeronave...: " + message,
                true
              );
              console.log(resultado.message);
            }
          })
          .catch(() => {
            showStatusMessage(
              "Erro técnico ao cadastrar... Contate o suporte.",
              true
            );
            console.log("Falha grave ao cadastrar.");
          });
      }
    </script>
  </head>
  <body>
    <header>
      <div class="superior">
        <a href="#"><strong>← Home</strong></a>
        <a href="/FRONTEND/html/adm.html"><strong>Administrador</strong></a>
        <div class="opcoes">
          <a href="/FRONTEND/html/incluir.html"><strong>Incluir</strong></a>
          <a href="/FRONTEND/html/alterar.html"><strong>Alterar</strong></a>
          <a href="/FRONTEND/html/deletar.html"><strong>Excluir</strong></a>
        </div>
      </div>
    </header>

    <main>
      <div class="columns is-desktop is-centered">
        <div class="column is-4">
          <h1 class="texth1">Cadastrar aeronaves</h1>
          <form>
            <div class="cadastroDiv">
              <label for="modelo" class="textLabel">Modelo: </label>
              <input
                type="text"
                id="modelo"
                class="box"
                placeholder="Airbus A380"
                name="modelo"
                required
              />

              <label for="fabricante" class="textLabel">Fabricante: </label>
              <input
                type="text"
                id="fabricante"
                class="box"
                placeholder="Airbus"
                name="fabricante"
                required
              />

              <label for="anoFabricacao" class="textLabel"
                >Ano de fabricação:</label
              >
              <input
                type="number"
                id="anoFabricacao"
                placeholder="2019"
                class="box"
                name="anoFabricado"
                required
              />

              <button
                type="button"
                class="button is-link is-medium"
                onclick="inserirAeronave();"
                id="btnCadastrar"
                name="btnCadastrar"
              >
                Cadastrar
              </button>
            </div>
          </form>
        </div>
        <div class="column is-4">
          <h1 class="texth1">Cadastrar cidades:</h1>
          <form>
            <div class="cadastroDiv">
              <label for="cidade" class="textLabel">Nome: </label>
              <input
                type="text"
                id="cidade"
                class="box"
                placeholder="Campinas"
                name="cidade"
                required
              />
              <button class="button is-link is-medium">Cadastrar</button>
            </div>
          </form>
        </div>
        <div class="column is-4">
          <h1 class="texth1">Cadastrar trajetos</h1>
          <form>
            <div class="cadastroDiv">
              <label for="trajeto" class="textLabel">Tipo: </label>
              <br />
              <div class="select">
                <select id="trajeto" class="box">
                  <option value="cmpsp">Ida</option>
                  <option value="spcmp">Volta</option>
                </select>
              </div>
              <br />
              <label for="cidadeSaida" class="textLabel"
                >Cidade de saída:
              </label>
              <input
                type="text"
                id="cidadeSaida"
                class="box"
                placeholder="Campinas"
                name="cidadeSaida"
                required
              />
              <label for="cidadeChegada" class="textLabel"
                >Cidade de chegada:
              </label>
              <input
                type="text"
                id="cidadeChegada"
                class="box"
                placeholder="Sao Paulo"
                name="cidadeChegada"
                required
              />
              <button class="button is-link is-medium">Cadastrar</button>
            </div>
          </form>
        </div>
      </div>

      <div class="columns is-desktop is-centered">
        <div class="column is-4">
          <h1 class="texth1">Cadastrar aeroportos</h1>
          <form>
            <div class="cadastroDiv">
              <label for="nomeAeroporto" class="textLabel">Nome: </label>
              <input
                type="text"
                id="nomeAeroporto"
                class="box"
                placeholder="Viracopos"
                name="nomeAeroporto"
                required
              />
              <label for="cidadeAeroporto" class="textLabel"
                >Cidade em que o aeroporto se localiza:
              </label>
              <input
                type="text"
                id="cidadeAeroporto"
                class="box"
                placeholder="Sao Paulo"
                name="cidadeAeroporto"
                required
              />
              <button class="button is-link is-medium">Cadastrar</button>
            </div>
          </form>
        </div>
        <div class="column is-4">
          <h1 class="texth1">Cadastrar voos</h1>
          <form>
            <div class="cadastroDiv">
              <label for="data" class="textLabel">Data de origem:</label>
              <input type="date" class="box" id="data" name="data" required />

              <label for="horaPartida" class="textLabel"
                >Horário previsto de partida:</label
              >
              <input type="time" class="box" name="horaPartida" required />

              <label for="dataChegada" class="textLabel"
                >Data de chegada:</label
              >
              <input
                type="date"
                class="box"
                id="dataChegada"
                name="dataChegada"
                required
              />

              <label for="horaChegada" class="textLabel"
                >Horário previsto para chegada:</label
              >
              <input type="time" class="box" name="horaChegada" required />

              <label for="idTrajeto" class="textLabel">ID do trajeto:</label>
              <input
                type="number"
                name="idTrajeto"
                class="box"
                placeholder="9510"
                required
              />

              <label for="valorAssento" class="textLabel"
                >Valor por assento (R$):</label
              >
              <div class="field has-addons">
                <p class="control">
                  <input class="input" type="text" placeholder="700" />
                </p>
              </div>
              <button class="button is-link is-medium">Cadastrar</button>
            </div>
          </form>
        </div>
      </div>
    </main>
  </body>
</html>
