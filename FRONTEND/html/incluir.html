<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <link rel="stylesheet" href="/FRONTEND/css/styles.css" />
    <title>Cadastro de aeronaves e voos</title>
    <script>

      //FUNCAO PADRAO PARA ENVIO
      function fetchInserir(rota, body) {
        const requestOptions = {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(body)
        };

        return fetch(rota, requestOptions)
        .then(T => T.json())
      }

      //INSERIR AERONAVE
      function inserirAeronave(){

        const fabricante = document.getElementById("fabricanteInput").value;
        const modelo = document.getElementById("modelo").value;
        const anoFab = document.getElementById("anoFabricacao").value;
        let rota = 'http://localhost:3000/inserirAeronave';

        fetchInserir(rota, {
            fabricante: fabricante, 
            modelo: modelo, 
            anoFabricacao: anoFab})
            .then(resultado => {
              // obteve resposta, vamos simplesmente exibir como mensagem: 
              if(resultado.status === "SUCCESS"){
                showStatusMessage("Aeronave cadastrada... ", false);
              }else{
                showStatusMessage("Erro ao cadastrar aeronave...: " + message, true);
                console.log(resultado.message);
              }
            })
            .catch(()=>{
              showStatusMessage("Erro técnico ao cadastrar... Contate o suporte.", true);
              console.log("Falha grave ao cadastrar.")
            });
      }      

      //INSERIR CIDADE
      function inserirCidade(){

        const nomeCidade = document.getElementById("nomeCidade").value;
        let rota = 'http://localhost:3000/inserirCidade';

        fetchInserir(rota, {
            nome: nomeCidade})
            .then(resultado => {
              // obteve resposta, vamos simplesmente exibir como mensagem: 
              if(resultado.status === "SUCCESS"){
                showStatusMessage("Cidade cadastrada... ", false);
              }else{
                showStatusMessage("Erro ao cadastrar cidade...: " + message, true);
                console.log(resultado.message);
              }
            })
            .catch(()=>{
              showStatusMessage("Erro técnico ao cadastrar... Contate o suporte.", true);
              console.log("Falha grave ao cadastrar.")
            });
      }

      //INSERIR TRAJETO
      function inserirTrajeto(){

        const tipo = document.getElementById("tipo").value;
        const cidade_origem = document.getElementById("cidade_origem").value;
        const cidade_destino = document.getElementById("cidade_destino").value;

        let rota = 'http://localhost:3000/inserirTrecho';

        fetchInserir(rota, {
            tipo: tipo,
            cidade_origem: cidade_origem,
            cidade_destino: cidade_destino})
            .then(resultado => {
              // obteve resposta, vamos simplesmente exibir como mensagem: 
              if(resultado.status === "SUCCESS"){
                showStatusMessage("Trajeto cadastrado... ", false);
              }else{
                showStatusMessage("Erro ao cadastrar trajeto...: " + message, true);
                console.log(resultado.message);
              }
            })
            .catch(()=>{
              showStatusMessage("Erro técnico ao cadastrar... Contate o suporte.", true);
              console.log("Falha grave ao cadastrar.")
            });
      }  

      
    </script>
  </head>
  <body>
    <header>
      <div class="superior">
        <a><strong>← Home</strong></a>
        <a href="/FRONTEND/html/adm.html"
          ><p><strong>Administrador</strong></p></a
        >
        <div class="opcoes">
          <a href="/FRONTEND/html/incluir.html"><strong>Incluir</strong></a>
          <a href="/FRONTEND/html/alterar.html"><strong>Alterar</strong></a>
          <a href="/FRONTEND/html/deletar.html"><strong>Excluir</strong></a>
        </div>
      </div>
    </header>

    <main>
      <div id="main" class="columns is-desktop is-centered">
        <div class="column is-4">
          <h1 class="texth1">Cadastrar aeronaves</h1>
          <form>
            <div class="cadastroDiv">
              <label for="modelo" class="textLabel">Modelo: </label>
              <input
                type="text"
                id="modelo"
                class="box"
                placeholder="Airbus A380"
                name="modelo"
                required
              />

              <label for="idAeronave" class="textLabel"
                >Número de identificação da aeronave:</label
              >
              <input
                type="number"
                id="idAeronave"
                placeholder="09676"
                class="box"
                name="idAeronave"
                required
              />

              <label for="fabricante" class="textLabel">Fabricante: </label>
              <input
                type="text"
                id="fabricanteInput"
                class="box"
                placeholder="Airbus"
                name="fabricante"
                required
              />

              <label for="anoFabricacao" class="textLabel"
                >Ano de fabricação:</label
              >
              <input
                type="number"
                id="anoFabricacao"
                placeholder="2019"
                class="box"
                name="anoFabricado"
                required
              />
              <p id="mensagemErro" class="erro"></p>
              <button type="button" 
              onclick="inserirAeronave();"
              id="btnCadastrar"
              name="btnCadastrar">Cadastrar Tiago</button>
            </div>
          </form>
        </div>
        <div>
          <h1 class="texth1">Cadastrar cidades</h1>
          <form>
            <div class="cadastroDiv">
              <label for="nome" class="textLabel">Nome:</label>
              <input
                type="text"
                id="nomeCidade"
                placeholder="Campinas"
                class="box"
                name="nomeCidade"
                required
              />
              <button type="button"
              onclick="inserirCidade();"
              id="btnCadastrar"
              name="btnCadastrar">Cadastrar Cidade Tiago</button>
            </div>
          </form>
        </div>
        <div class="column is-4">
          <h1 class="texth1">Cadastrar trajetos</h1>
          <form>
            <div class="cadastroDiv">
              <label for="fabricante" class="textLabel">Tipo: </label>
              <input
                type="text"
                id="tipo"
                class="box"
                placeholder="Ida | Volta"
                name="aeroportos"
                required
              />

              <label for="fabricante" class="textLabel">Cidade Origem: </label>
              <input
                type="text"
                id="cidade_origem"
                class="box"
                placeholder="Campians"
                name="trajetos"
                required
              />

              <label for="fabricante" class="textLabel">Cidade Destino: </label>
              <input
                type="text"
                id="cidade_destino"
                class="box"
                placeholder="Salvador"
                name="trajetos"
                required
              />
              <button type="button"
              onclick="inserirTrajeto();"
              id="btnCadastrar"
              name="btnCadastrar">Cadastrar Trajeto</button>
              
            </div>
          </form>
        </div>

        <div class="column is-4">
          <h1 class="texth1">Cadastrar voos</h1>
          <form>
            <div class="cadastroDiv">
              <label for="data" class="textLabel">Data:</label>
              <input type="date" class="box" id="data" name="data" required />

              <label for="trajeto" class="textLabel">Trajetos</label>
              <div class="control">
                <div class="select">
                  <select id="trajeto" class="box">
                    <option value="cmpsp">Campinas - São Paulo</option>
                    <option value="spcmp">São Paulo - Campinas</option>
                    <option value="trajeto3">Trajeto 3</option>
                    <option value="trajeto4">Trajeto 4</option>
                    <option value="trajeto5">Trajeto 5</option>
                    <option value="trajeto6">Trajeto 6</option>
                    <option value="trajeto7">Trajeto 7</option>
                    <option value="trajeto8">Trajeto 8</option>
                    <option value="trajeto9">Trajeto 9</option>
                    <option value="trajeto10">Trajeto 10</option>
                    <option value="trajeto11">Trajeto 11</option>
                    <option value="trajeto12">Trajeto 12</option>
                    <option value="trajeto13">Trajeto 13</option>
                    <option value="trajeto14">Trajeto 14</option>
                    <option value="trajeto15">Trajeto 15</option>
                  </select>
                </div>
              </div>

              <label for="horaPartida:" class="textLabel"
                >Horário previsto de partida:</label
              >
              <input type="time" class="box" name="horaPartida" required />

              <label for="horaChegada" class="textLabel"
                >Horário previsto para chegada:</label
              >
              <input type="time" class="box" name="horaChegada" required />

              <label for="aeroportoSaida" class="textLabel"
                >Aeroporto de saída:</label
              >
              <div class="control">
                <div class="select">
                  <select id="aeroportoSaida" class="box">
                    <option value="viracopos">Viracopos(CMP)</option>
                    <option value="congonhas">Congonhas(SP)</option>
                    <option value="guarulhos">Guarulhos(GRU)</option>
                    <option value="aeroporto4">Aeroporto4</option>
                    <option value="aeroporto5">Aeroporto5</option>
                    <option value="aeroporto6">Aeroporto6</option>
                    <option value="aeroporto7">Aeroporto7</option>
                    <option value="aeroporto8">Aeroporto8</option>
                    <option value="aeroporto9">Aeroporto9</option>
                    <option value="aeroporto10">Aeroporto10</option>
                    <option value="aeroporto11">Aeroporto11</option>
                    <option value="aeroporto12">Aeroporto12</option>
                    <option value="aeroporto13">Aeroporto13</option>
                    <option value="aeroporto14">Aeroporto14</option>
                    <option value="aeroporto15">Aeroporto15</option>
                    <option value="aeroporto16">Aeroporto16</option>
                    <option value="aeroporto17">Aeroporto17</option>
                    <option value="aeroporto18">Aeroporto18</option>
                    <option value="aeroporto19">Aeroporto19</option>
                    <option value="aeroporto20">Aeroporto20</option>
                  </select>
                </div>
              </div>

              <label for="aeroportoChegada" class="textLabel"
                >Aeroporto de chegada</label
              >
              <div class="control">
                <div class="select">
                  <select id="aeroportoChegada" class="box">
                    <option value="viracopos">Viracopos(CMP)</option>
                    <option value="congonhas">Congonhas(SP)</option>
                    <option value="guarulhos">Guarulhos(GRU)</option>
                    <option value="aeroporto4">Aeroporto4</option>
                    <option value="aeroporto5">Aeroporto5</option>
                    <option value="aeroporto6">Aeroporto6</option>
                    <option value="aeroporto7">Aeroporto7</option>
                    <option value="aeroporto8">Aeroporto8</option>
                    <option value="aeroporto9">Aeroporto9</option>
                    <option value="aeroporto10">Aeroporto10</option>
                    <option value="aeroporto11">Aeroporto11</option>
                    <option value="aeroporto12">Aeroporto12</option>
                    <option value="aeroporto13">Aeroporto13</option>
                    <option value="aeroporto14">Aeroporto14</option>
                    <option value="aeroporto15">Aeroporto15</option>
                    <option value="aeroporto16">Aeroporto16</option>
                    <option value="aeroporto17">Aeroporto17</option>
                    <option value="aeroporto18">Aeroporto18</option>
                    <option value="aeroporto19">Aeroporto19</option>
                    <option value="aeroporto20">Aeroporto20</option>
                  </select>
                </div>
              </div>

              <label for="idVoo" class="textLabel">ID do voo: </label>
              <input
                type="number"
                name="idVoo"
                class="box"
                placeholder="9510"
                required
              />

              <label for="valorAssento:" class="textLabel"
                >Valor por assento:</label
              >
              <div class="field has-addons">
                <p class="currencySelect">
                  <span class="select">
                    <select>
                      <option>R$</option>
                      <option>$</option>
                      <option>£</option>
                      <option>€</option>
                    </select>
                  </span>
                </p>
                <p class="control">
                  <input class="input" type="text" placeholder="700" />
                </p>
              </div>
              <button class="button is-link is-medium">Cadastrar</button>
            </div>
          </form>
        </div>
      </div>
    </main>
  </body>
</html>
